# System Architecture Overview

## 중국경제 해설 플랫폼

---

| 항목 | 값 |
|------|-----|
| **Version** | v1.0 |
| **Status** | ACTIVE |
| **Created** | 2026-02-12 |
| **Last Updated** | 2026-02-12 |
| **Document Type** | 설계 기준 문서 |

---

## 1. 시스템 개요

### 1.1 플랫폼 소개
중국경제 해설 플랫폼은 중국 현지 매체의 경제 뉴스를 AI로 선정하고, 전문가가 해설을 작성하여 사용자에게 제공하는 서비스입니다.

### 1.2 핵심 기능
- 중국 경제 뉴스 자동 수집 (크롤링)
- AI 기반 뉴스 선정 및 분석
- 전문가 리뷰 및 해설 작성
- 모바일 최적화 사용자 피드

### 1.3 운영 환경

| 항목 | 사양 |
|------|------|
| OS | Ubuntu Desktop |
| Runtime | Python 3.11+ |
| 일일 처리량 | 20~30 기사 |
| 관리자 | 1명 |
| 외부 접근 | 제한적 (로컬 네트워크) |

---

## 2. 시스템 구성도

```
┌─────────────────────────────────────────────────────────────────────┐
│                        Ubuntu Desktop Server                         │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌─────────────────────┐         ┌─────────────────────┐            │
│  │   관리자 대시보드    │         │    사용자 피드      │            │
│  │   (Streamlit)       │         │    (Flask)          │            │
│  │   Port: 8501        │         │    Port: 8502       │            │
│  │                     │         │                     │            │
│  │  - 뉴스 선정/리뷰   │         │  - 뉴스 피드        │            │
│  │  - 전문가 해설 작성 │         │  - 상세 페이지      │            │
│  │  - 게시 관리        │         │  - 아카이브         │            │
│  │  - 통계 조회        │         │  - 헤드라인 카드    │            │
│  └──────────┬──────────┘         └──────────┬──────────┘            │
│             │                               │                        │
│             └───────────────┬───────────────┘                        │
│                             │                                        │
│                             ▼                                        │
│              ┌─────────────────────────────┐                        │
│              │         SQLite DB           │                        │
│              │       (data/news.db)        │                        │
│              │                             │                        │
│              │  - news (기사 테이블)       │                        │
│              │  - expert_reviews (리뷰)    │                        │
│              │  - graph_sync_queue (예정)  │                        │
│              └─────────────────────────────┘                        │
│                             │                                        │
│                    [향후 확장 예정]                                  │
│                             │                                        │
│                             ▼                                        │
│              ┌─────────────────────────────┐                        │
│              │    Neo4j Graph DB (예정)    │                        │
│              │    (별도 레이어)            │                        │
│              └─────────────────────────────┘                        │
│                                                                      │
├─────────────────────────────────────────────────────────────────────┤
│                          외부 서비스                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                  │
│  │ Google      │  │ Anthropic   │  │ 뉴스 소스   │                  │
│  │ Translate   │  │ Claude API  │  │ (중국 매체) │                  │
│  └─────────────┘  └─────────────┘  └─────────────┘                  │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 3. 컴포넌트 상세

### 3.1 관리자 대시보드 (Port: 8501)

| 항목 | 설명 |
|------|------|
| **프레임워크** | Streamlit |
| **위치** | `src/ui/expert_dashboard.py` |
| **접근** | 관리자 전용 |
| **주요 기능** | 뉴스 선정, 리뷰 작성, 게시 관리 |

### 3.2 사용자 피드 (Port: 8502)

| 항목 | 설명 |
|------|------|
| **프레임워크** | Flask |
| **위치** | `src/web/app.py` |
| **접근** | 일반 사용자 |
| **주요 기능** | 뉴스 열람, 전문가 해설 확인 |

### 3.3 SQLite Database

| 항목 | 설명 |
|------|------|
| **파일** | `data/news.db` |
| **용도** | 기사, 리뷰, 동기화 상태 저장 |

**주요 테이블:**
- `news`: 기사 정보
- `expert_reviews`: 전문가 리뷰

### 3.4 Neo4j Graph DB (예정)

| 항목 | 설명 |
|------|------|
| **상태** | Phase 1 설계 완료, 구현 예정 |
| **문서** | `01_graph_model_local_phase.md` |

---

## 4. 데이터 흐름

```
크롤링 → 본문수집 → AI선정 → 번역 → 헤드라인생성 → AI분석 → 전문가리뷰 → 게시
                                                                      │
                                                              [향후] Graph 동기화
```

---

## 5. 실행 방법

```bash
# 관리자 대시보드 (Port 8501)
streamlit run src/ui/expert_dashboard.py --server.port 8501

# 사용자 피드 (Port 8502)
python src/web/app.py

# 뉴스 수집
python run_collector.py --auto
```

---

## 6. 환경 변수

```bash
ANTHROPIC_API_KEY=sk-ant-...     # Claude API 키
DATABASE_PATH=data/news.db       # DB 경로
GRAPH_SYNC_ENABLED=true          # Graph 동기화 (향후)
```

---

## 7. 관련 문서

| 문서 | 설명 |
|------|------|
| `01_graph_model_local_phase.md` | Graph DB 데이터 모델 설계서 |

---

## 변경 이력

| 버전 | 일자 | 변경 내용 |
|------|------|----------|
| v1.0 | 2026-02-12 | 최초 작성 |
