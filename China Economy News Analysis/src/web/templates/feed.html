{% extends "base.html" %}

{% block content %}
<section class="feed-section">
    <!-- 플랫폼·전문가 소개 카드 (첫 방문 1회만 노출) -->
    <div class="intro-card" id="introCard">
        <button class="intro-card-close" id="introCardClose" aria-label="닫기">&times;</button>
        <h2 class="intro-card-title">한상국의 쉬운 중국경제뉴스 해설</h2>
        <p class="intro-card-body">이 플랫폼은 매일 쏟아지는 중국 현지 매체의 경제 뉴스를
AI로 엄선하고, 중국에 정통한 전문가가 요약해
쉽지만 깊이 있게 해설합니다.</p>
        <p class="intro-card-body intro-card-expert">중국 전문가 한상국은 상하이교통대 국제무역 석사로서 1996년 외무고시 30회로 외교관이 되어
베이징·상하이 등 현지에서 중국 이슈를 심도있게 다뤄왔으며,
정책·시장·산업의 맥락 속에서 중국 경제 뉴스를 설명합니다.</p>
    </div>

    {% if grouped_news.today %}
    <div class="date-group">
        <h2 class="date-heading">오늘</h2>
        {% for news in grouped_news.today %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if grouped_news.yesterday %}
    <div class="date-group">
        <h2 class="date-heading">어제</h2>
        {% for news in grouped_news.yesterday %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if grouped_news.earlier %}
    <div class="date-group">
        <h2 class="date-heading">이전</h2>
        {% for news in grouped_news.earlier %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if not grouped_news.today and not grouped_news.yesterday and not grouped_news.earlier %}
    <div class="empty-state">
        <p>아직 게시된 뉴스가 없습니다.</p>
    </div>
    {% endif %}

    {% if total_pages > 1 %}
    <nav class="pagination">
        {% if current_page > 1 %}
        <a href="{{ url_for('index', page=current_page-1) }}" class="page-link prev">이전</a>
        {% endif %}

        <span class="page-info">{{ current_page }} / {{ total_pages }}</span>

        {% if current_page < total_pages %}
        <a href="{{ url_for('index', page=current_page+1) }}" class="page-link next">다음</a>
        {% endif %}
    </nav>
    {% endif %}
</section>
{% endblock %}
